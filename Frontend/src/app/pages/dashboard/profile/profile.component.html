<div class="dashboard-card">
  <h2>¡Hola, {{ clienteLogueado.user.username }}!</h2>
  <p class="subtitle">¿Qué vamos a leer hoy?</p>

  <hr>
  
  <h3>Datos personales</h3>
  <form (ngSubmit)="actualizarDatosPersonales()" #datosPersonalesFormRef="ngForm" class="datos-personales-form">
    <div class="form-group">
      <label for="username">Nombre de usuario</label>
      <input type="text" name="username" [(ngModel)]="datosPersonalesForm.username" placeholder="Nombre de usuario" required>
    </div>
    <div class="form-group">
      <label for="email">Correo electrónico</label>
      <input type="email" name="email" [(ngModel)]="datosPersonalesForm.email" placeholder="Correo electrónico" required>
    </div>
    <div class="form-group">
      <label for="password">Contraseña actual</label>
      <input type="password" name="password" [(ngModel)]="datosPersonalesForm.password" placeholder="Contraseña actual" required>
    </div>
    <div class="form-buttons">
      <button type="submit" class="submit-btn">Actualizar</button>
    </div>
  </form>

  <hr>

  <h3>Direcciones registradas</h3>
  <ul class="direcciones-list">
    <li *ngFor="let direccion of direcciones">
      <div class="direccion-text">
        {{ direccion.calle }}, {{ direccion.numero }}, {{ direccion.ciudad }} - {{ direccion.provincia }}
      </div>
      <div class="button-group">
        <button (click)="cargarDireccion(direccion)" class="edit-btn">Editar</button>
        <button (click)="borrarDireccion(direccion.id)" class="delete-btn">Eliminar</button>
      </div>
    </li>
  </ul>

  <hr>

  <h3>{{ editandoId ? 'Editar' : 'Agregar' }} dirección</h3>
  <form (ngSubmit)="guardarDireccion()" #direccionFormRef="ngForm" class="direccion-form">
    <div class="form-group">
      <input type="text" name="calle" [(ngModel)]="direccionForm.calle" placeholder="Calle" required>
    </div>
    <div class="form-group">
      <input type="number" name="numero" [(ngModel)]="direccionForm.numero" placeholder="Número" required>
    </div>
    <div class="form-group">
      <input type="text" name="ciudad" [(ngModel)]="direccionForm.ciudad" placeholder="Ciudad" required>
    </div>
    <div class="form-group">
      <input type="text" name="provincia" [(ngModel)]="direccionForm.provincia" placeholder="Provincia" required>
    </div>
    <div class="form-buttons">
      <button type="submit" class="submit-btn">{{ editandoId ? 'Actualizar' : 'Guardar' }}</button>
      <button type="button" (click)="resetFormulario()" *ngIf="editandoId" class="cancel-btn">Cancelar</button>
    </div>
  </form>

  <div class="delete-account-section">
    <button (click)="eliminarCuenta()" class="delete-account-btn">Eliminar Cuenta</button>
  </div>
  
</div>
